syntax = "proto2";

import "core.proto";

message DiscoverMessage {
    required string version = 1;
    repeated bytes known_keys = 2;
}

message DiscoverResult {
    message Service {
        required string name = 1;
        required string category = 2;
        required string port = 3;
    }

    required string version = 1;
    required string name = 2;
    required SignatureKeyMessage sign_key = 3;
    repeated Service services = 4;
}
